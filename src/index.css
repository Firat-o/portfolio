@import "tailwindcss";

@keyframes pulse-glow {
  0%, 100% { text-shadow: 0 0 14px hsl(var(--primary) / 0.5); }
  50% { text-shadow: 0 0 22px hsl(var(--primary) / 0.8); }
}

@keyframes glitch-rgb {
  0% { text-shadow: -1px 0 rgba(0,255,150,0.5), 1px 0 rgba(0,255,0,0.5); transform: translate(0,0); }
  20% { text-shadow: 1px 0 rgba(0,255,150,0.5), -1px 0 rgba(0,255,0,0.5); transform: translate(-1px, 1px); }
  40% { text-shadow: -1px 0 rgba(0,255,150,0.5), 1px 0 rgba(0,255,0,0.5); transform: translate(1px, -1px); }
  100% { text-shadow: -1px 0 rgba(0,255,150,0.5), 1px 0 rgba(0,255,0,0.5); transform: translate(0,0); }
}

@keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }
@keyframes meteor { 0%{transform:rotate(215deg) translateX(0);opacity:0} 10%{opacity:1} 70%{opacity:1} 100%{transform:rotate(215deg) translateX(-600px);opacity:0} }
@keyframes rotate-border { 0%{transform:rotate(0)} 100%{transform:rotate(360deg)} }
@keyframes typing { from { width: 0 } to { width: 100% } }
@keyframes blink-caret { from, to { border-color: transparent } 50% { border-color: hsl(var(--primary)) } }
@keyframes fade-in-scanner { from{opacity:0;clip-path:inset(0 100% 0 0)} to{opacity:1;clip-path:inset(0 0 0 0)} }

@theme {
  --color-border: hsl(var(--border));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-card: hsl(var(--card));

  --animate-float: float 6s ease-in-out infinite;
  --animate-meteor: meteor 6s linear infinite;
  --animate-rotate-border: rotate-border 4s linear infinite;
  --animate-pulse-glow: pulse-glow 3s ease-in-out infinite;
  --animate-glitch: glitch-rgb 0.3s ease-in-out both infinite;
  --animate-fade-in: fade-in-scanner 0.8s cubic-bezier(0.25, 1, 0.5, 1) forwards;
}

@layer base {
  :root {
    /* LIGHT MODE: Optimiertes, weiches Mint-Grau statt hartem Weiß */
    --background: 160 15% 96%;
    --foreground: 160 60% 3%;
    --card: 0 0% 100% / 0.9;
    
    /* LIGHT MODE: Dunkleres Smaragdgrün für besseren Lesekontrast */
    --primary: 162 95% 20%; 
    --primary-foreground: 162 90% 98%;
    --border: 162 20% 80%;
    
    --grain-opacity: .08;
    --grain-blend: multiply;
    --star-color: 162 20% 60%;
  }

  .dark {
    /* DARK MODE: Tiefes Matrix-Grün */
    --background: 160 60% 2%;
    --foreground: 158 100% 94%;
    --card: 160 60% 4% / 0.7;
    
    /* DARK MODE: Leuchtendes Neon-Mint */
    --primary: 158 85% 55%;
    --primary-foreground: 160 60% 2%;
    --border: 158 50% 12%;
    
    --grain-opacity: .3;
    --star-color: 158 85% 55%;
  }

  * { cursor: none !important; @apply border-border; }
  html { @apply scroll-smooth; }

  body {
    @apply bg-background text-foreground transition-colors duration-500 overflow-x-hidden;
    font-family: 'Bahnschrift', sans-serif;
    /* Subtiles Raster im Hintergrund für Struktur */
    background-image: radial-gradient(circle at 2px 2px, hsl(var(--primary) / 0.05) 1px, transparent 0);
    background-size: 24px 24px;
    background-attachment: fixed;
  }

  .dark body {
    background-image: 
      radial-gradient(circle at 2px 2px, hsl(var(--primary) / 0.1) 1px, transparent 0),
      radial-gradient(1200px 600px at 15% -10%, hsl(var(--primary) / 0.15) 0%, transparent 60%);
  }

  body::after {
    content:""; position: fixed; inset: 0; pointer-events: none; z-index: 50;
    background: repeating-linear-gradient(0deg, transparent 0px, transparent 2px, rgba(0,255,100,0.01) 3px, rgba(0,255,100,0.01) 4px);
    background-size: 100% 4px; opacity: 0.15; mix-blend-mode: overlay;
  }
}

@utility tech-card {
  @apply relative bg-card backdrop-blur-3xl border border-border p-8 transition-all duration-500 shadow-xl;
  clip-path: polygon(0 20px, 20px 0, 100% 0, 100% calc(100% - 20px), calc(100% - 20px) 100%, 0 100%);
  &::before, &::after { content: ""; @apply absolute w-4 h-4 transition-all duration-500 border-primary opacity-30; }
  &::before { top: 10px; left: 10px; border-left: 2px solid; border-top: 2px solid; }
  &::after { bottom: 10px; right: 10px; border-right: 2px solid; border-bottom: 2px solid; }
  &:hover { @apply -translate-y-2 border-primary/40 shadow-2xl; }
  &:hover::before, &:hover::after { @apply w-8 h-8 opacity-100; }
}

@utility hollow-text {
  /* LIGHT MODE FIX: Dickerer Stroke für bessere Lesbarkeit auf hellem Grund */
  -webkit-text-stroke: 2px hsl(var(--primary));
  color: transparent; 
  transition: all 0.4s ease;
  
  /* DARK MODE: Feinerer Stroke da Kontrast höher ist */
  .dark & { -webkit-text-stroke: 1.5px hsl(var(--primary)); }
  
  &:hover { color: hsl(var(--primary) / 0.15); text-shadow: 0 0 15px hsl(var(--primary) / 0.4); }
}

@utility typing-effect {
  overflow: hidden; white-space: nowrap; border-right: 3px solid hsl(var(--primary)); width: 0;
  animation: typing 2.5s steps(35, end) forwards, blink-caret .8s step-end infinite;
  animation-delay: 0.6s;
}

@utility cosmic-button {
  @apply px-10 py-4 bg-primary text-primary-foreground font-black tracking-[0.2em] uppercase transition-all duration-500 relative overflow-hidden active:scale-95;
  clip-path: polygon(0 15px, 15px 0, 100% 0, 100% calc(100% - 15px), calc(100% - 15px) 100%, 0 100%);
  &:hover { box-shadow: 0 0 30px hsl(var(--primary) / 0.5); transform: translateY(-2px); }
}
